<html lang="fr">
    <head>
        <title>La fabrique de Pictoparle — fabriquer la boîte</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="shortcut icon" href="images/pictoparle-icon-white.svg">




        <script src="js/external/jquery-3.4.1.min.js"></script>

        <script src="js/external/FileSaver.js"></script>

        <script src="js/external/jspdf.min.js"></script>
        <script src="js/external/dxf_bundle.js"></script>

        <script src="js/board.js"></script>
        <script src="js/device.js"></script>
        <script src="js/qrcode-position.js"></script>
        <script src="js/fastener.js"></script>
        <script src="js/box.js"></script>
        <script src="js/draw-cutting-tools.js"></script>
        <script src="js/interface-utils.js"></script>
        <script src="js/box-page-interface.js"></script>

        <link rel="stylesheet" href="css/style.css">

        <!-- use bootstap for display -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" 
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    </head>
    <body>
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="#"><img src="images/pictoparle-icon-white.svg" width="30" height="30" alt="La fabrique de Pictoparle"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Accueil</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="box.html">La boîte <span class="sr-only">(courant)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="board.html">Les planches</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="app.html">L'application</a>
            </li>
          </ul>
        </div>
      </nav>
        <div class="container-xl" id="main-container">
            <h1 class="display-4">Fabriquer la boîte</h1>
           <p class="lead"><a href="http://pictoparle.jmfavreau.info/">Pictoparle</a> est un outil de communication alternative 
                et augmentée destiné aux personnes en situation de déficience visuelle rencontrant des difficultés dans la 
                communication orale. Il permet de disposer sur un dispositif interactif (une tablette tactile du commerce)
                des <em>planches</em> structurés en <em>panneaux</em> de <em>pictogrammes</em>. Ces planches sont interchangeables,
                et détectées automatiquement par la tablette. Pour plus d'information, vous pouvez consulter le site internet
                du projet, à l'adresse <a href="http://pictoparle.jmfavreau.info/">pictoparle.jmfavreau.info</a>.
            </p>
            <p>La page sur laquelle vous vous trouvez permet de fabriquer la boîte qui accueillera la tablette, et recevra les planches de pictogrammes.
            </p>
            <div class="container mb-3">
                <div class="row">
                    <div class="col-sm-8">
                        <figure class="figure mt-3">
                        <img src="images/2D.svg" class="figure-img img-fluid rounded" alt="Exemple de patron 2D" />
                        <figcaption class="figure-caption">Exemple de patron 2D destiné à la découpe, et généré par l'outil.</figcaption>
                        </figure>
                    </div>
                    <div class="col-sm-4">
                        <figure class="figure mt-3">
                            <a type="button"  data-toggle="modal" data-target="#large3D"><img src="images/3D.png" class="figure-img img-fluid rounded" alt="Vue 3D après assemblage" /></a>
                            <figcaption class="figure-caption">Vue 3D de la boîte après découpage et assemblage.</figcaption>
                            </figure>
                    </div>
                </div>
            </div>
            <div id="large3D" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                  <div class="modal-content">
                      <div class="modal-body">
                        <figure class="figure" style="width: 100%">
                          <img src="images/3D.png" class="img-responsive" style="width: 100%">
                          <figcaption class="figure-caption">Vue 3D de la boîte après découpage et assemblage.</figcaption>
                            </figure>
                      </div>
                  </div>
                </div>
              </div>

            <h2><span class="badge badge-pill badge-primary">1</span> Choix du matériel</h2>
            <p>Pour l'instant, uniquement trois <strong>modèles de tablette</strong> sont pris en charge. Si vous disposez d'une autre tablette, et que vous souhaitez que Pictoparle puisse s'y installer,
                n'hésitez pas à <a href="mailto:jeanmarie.favreau@free.fr">contacter l'auteur</a>. Privilégiez une résolution de 10 pouces, pour faciliter
                l'usage de la tablette, et les fonctionnalités associées. Cependant, cette contrainte n'est pas une restriction imposée par Pictoparle, il suffira de configurer 
                des mises en pages dédiées à des tablettes plus petites.</p>

                <div class="container my-2">
                    <div class="form-row align-items-center">
                      <div class="col-sm-4">
                        <div class="dropdown">
                          <div class="btn-group btn-block my-1">
                            <button type="button" class="btn btn-primary btn-block dropdown-toggle" id="device" data-toggle="dropdown" 
                            aria-haspopup="true" role="menu" aria-expanded="false">
                              choix de la tablette
                            </button>
                            <div class="dropdown-menu" aria-labelledby="device" id="devices">
                            </div>
                          </div>
                        </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-check my-1">
                              <input class="form-check-input" type="checkbox" value="" id="deviceCase">
                              <label class="form-check-label" for="deviceCase">
                                avec coque
                              </label>
                            </div>
                          </div>
                      </div>
                      
                        <div id="caseGeometry" class="form-row align-items-center" disabled>
                            <div class="col-sm-4 form-group">
                              <label class="form-check-label mb-2" for="caseWidth">
                                  Largeur de la coque
                              </label>
                              <input type="number" min="0" step="0.1" max="999999" class="form-control" id="caseWidth" aria-describedby="caseWidthHelper" value="0.0" disabled>
                              <small id="caseWidthHelper" class="form-text text-muted">
                                  Largeur de la coque (en millimètres), quand la tablette est dedans. Doit être supérieur à la largeur de la tablette<span id="deviceWidthDesc"></span>.
                              </small>
                            </div>
    
                            <div class="col-sm-4 form-group">
                              <label class="form-check-label mb-2" for="caseHeight">
                                  Hauteur de la coque
                              </label>
                              <input type="number" min="0" step="0.1" max="999999" class="form-control" id="caseHeight" aria-describedby="caseHeightHelper" value="0.0" disabled>
                              <small id="caseHeightHelper" class="form-text text-muted">
                                  Hauteur de la coque (en millimètres), quand la tablette est dedans. Doit être supérieur à la hauteur de la tablette<span id="deviceHeightDesc"></span>.
                              </small>
                            </div>
    
                              <div class="col-sm-4 form-group">
                                <label class="form-check-label mb-2" for="caseThickness">
                                    Épaisseur de la coque
                                </label>
                                <input type="number" min="0" step="0.1" max="999999" class="form-control" id="caseThickness" aria-describedby="caseThicknessHelper" value="0.0" disabled>
                                <small id="caseThicknessHelper" class="form-text text-muted">
                                    Épaisseur de la coque (en millimètres), quand la tablette est dedans. Doit être supérieur à l'épaisseur de la tablette<span id="deviceThicknessDesc"></span>.
                                </small>
                              </div>
                            </div>
                  </div>

            <figure class="figure float-right col-lg-3 col-md-6">
                <a type="button"  data-toggle="modal" data-target="#largeMedium"><img src="images/mdf.jpg" class="figure-img img-fluid rounded" alt="Photo d'un assemblage réalisé en medium"></a>
                <figcaption class="figure-caption text-right">Un assemblage réalisé en medium d'épaisseur 3&nbsp;mm, avec un système par crénelage.</figcaption>
            </figure>

            <div id="largeMedium" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                  <div class="modal-content">
                      <div class="modal-body">
                        <figure class="figure" style="width: 100%">
                          <img src="images/mdf.jpg" class="img-responsive" style="width: 100%"  alt="Photo d'un assemblage réalisé en medium">
                          <figcaption class="figure-caption">Un assemblage réalisé en medium d'épaisseur 3&nbsp;mm, avec un système par crénelage.</figcaption>
                            </figure>
                      </div>
                  </div>
                </div>
              </div>

            <figure class="figure float-right col-lg-3 col-md-6">
                <a type="button"  data-toggle="modal" data-target="#largeCartonBois"><img src="images/carton-bois.jpg" class="figure-img img-fluid rounded" alt="Photo d'un assemblage réalisé en carton-bois"></a>
                <figcaption class="figure-caption text-right">Un assemblage réalisé en carton-bois d'épaisseur 2,2&nbsp;mm, par collage simple sur tranche.</figcaption>
            </figure>

            <div id="largeCartonBois" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog modal-xl">
                  <div class="modal-content">
                      <div class="modal-body">
                        <figure class="figure" style="width: 100%">
                          <img src="images/carton-bois.jpg" class="img-responsive" style="width: 100%"  alt="Photo d'un assemblage réalisé en carton-bois">
                          <figcaption class="figure-caption">Un assemblage réalisé en carton-bois d'épaisseur 2,2&nbsp;mm, par collage simple sur tranche.</figcaption>
                            </figure>
                      </div>
                  </div>
                </div>
              </div>

            <p>L'<strong>épaisseur du matériau</strong> utilisé pour fabriquer la boîte et les planches doit être choisie soigneusement, d'une part en fonction des ressources qui vous sont accessibles, mais également
                en terme de praticité. Plus vous choisirez un matériau épais, moins il sera confortable à l'usage, mais plus il sera rigide, évitant des déformations non souhaitées. Une épaisseur de 2 millimètres
                semble être un bon compromis&nbsp;: cela évite d'avoir un objet trop épais en main, et les fenêtres ouvertes dans la planche ne sont pas trop profondes.
            </p>
            <p>Le <strong>type de matériau</strong> utilisé doit être à la fois facile à découper avec les outils à votre disposition, et à la fois rigide et durable, tout en étant agréable au toucher. 
            Deux pistes ont déjà été explorées&nbsp;: le <a href="https://fr.wikipedia.org/wiki/Carton_(mat%C3%A9riau)#Carton_bois">carton bois</a>, facile à couper au cutter, et le 
            <a href="https://fr.wikipedia.org/wiki/Panneau_de_fibres_%C3%A0_densit%C3%A9_moyenne">HDF ou medium</a>, très adapté aux découpes laser. La découpe laser est généralement proposée par les 
            <a href="https://fr.wikipedia.org/wiki/Fab_lab">fablab</a>, mais également par certains services en ligne (que nous n'avons pas encore expérimenté). À noter cependant que
            les planches de medium 2 millimètres sont difficiles à trouver à l'achat pour les particuliers.</p>


                <div class="container mb-3">
                    <div class="row">
                        <div class="col-sm form-group">
                            <label class="form-check-label mb-2" for="boxThickness">
                                Épaisseur du matériau de la boîte
                            </label>
                            <input type="number" min="0" step="0.1" max="999999" class="form-control" id="boxThickness" aria-describedby="boxThicknessHelper" value="2.0">
                            <small id="boxThicknessHelper" class="form-text text-muted">
                                Épaisseur (en millimètres) du matériau qui sera utilisée pour fabriquer la base de la boîte. Valeur par défaut&nbsp;: 2 millimètres.
                            </small>
                        </div>
                        <div class="col-sm form-group">
                            <label class="form-check-label mb-2" for="boardThickness">
                                Épaisseur du matériau des planches
                            </label>
                            <input type="number" min="0" step="0.1" max="999999" class="form-control" id="boardThickness" aria-describedby="boardThicknessHelper" value="2.0">
                            <small id="boardThicknessHelper" class="form-text text-muted">
                                Épaisseur (en millimètres) du matériau qui sera utilisée pour fabriquer les planches. Valeur par défaut&nbsp;: 2 millimètres.
                            </small>
                        </div>
                    </div>
                </div>

            <h2><span class="badge badge-pill badge-primary">2</span> Réglages fins</h2>
            <p>Vous pouvez également ajuster quelques paramètres liés aux techniques de découpe et à vos préférences de fabrication.</p>

            <h3>Technique de fabrication</h3>
            <p>Lorsqu'on utilise certaines techniques de découpe, un peu de matière est enlevée par le processus, c'est le <strong>trait de coupe</strong> (ou kerf). Par exemple, une découpe laser brûle une partie du matériau, 
                réduisant ainsi sensiblement la taille des pièces. Il peut donc être nécessaire d'imposer dans le dessin une légère surcote afin de s'assurer que la pièce finale soit de la taille souhaitée. 
            Le réglage de la taille de coupe est spécifique à chaque machine, mais on rencontre souvent une largeur de l'ordre de 0,1 millimètre quand on découpe une planche de medium de 2 ou 3 millimètres d'épaisseur. 
            On peut aussi considérer qu'une découpe au cutter a un trait de coupe trop fin pour devoir être considéré.</p>
            <p>Pour connaître l'épaisseur de coupe de la machine que vous allez utiliser, renseignez-vous auprès de votre fablab, ou de votre prestataire.</p>

            <div class="container mb-3">
                <div class="row">
                    <div class="col-sm form-group">
                        <label class="form-check-label mb-2" for="kerf">
                            Trait de coupe (kerf)
                        </label>
                        <input type="number" min="0" step="0.01" max="999999" class="form-control" id="kerf" aria-describedby="kerfHelper" value="0.2">
                        <small id="kerfHelper" class="form-text text-muted">
                            Épaisseur (en millimètres) du trait de coupe de l'outil utilisé. Valeur par défaut&nbsp;: 0 millimètre pour une découpe au cutter, 0.2 millimètres pour une 
                            découpe au laser.
                        </small>
                    </div>
                    <div class="col-sm form-group">
                        <div  class="mx-auto" style="width: 50%;">
                            <figure class="figure">
                            <img src="images/kerf.svg" class="figure-img img-fluid rounded" alt="le kerf correspond à l'épaisseur de coupe du laser" />
                            <figcaption class="figure-caption">Le <em>kerf</em> correspond à l'épaisseur de coupe. Illustration avec le procédé par découpe laser.</figcaption>
                            </figure>
                        </div>
                    </div>
                </div>
            </div>
            <p>Si vous choisissez d'imprimer en <code>pdf</code> avant de réaliser les découpages manuellement, vous serez confronté·e à une problématique récurrente des imprimantes
                et photocopieuses, qui redimensionnent très souvent légèrement les documents A4 avant de les imprimer. Il existe sur certains modèles une option permettant
                d'annuler cette mise à l'échelle, mais c'est rarement la configuration par défaut. Si vous utilisez <em>PDF Acrobat Reader</em>, au moment d’effectuer vos réglages d’impression, 
                assurez-vous que la case « Échelle : 100% » soit cochée.</p>
            <p>De manière générale, si vous utilisez l'impression <code>pdf</code>, et afin d'obtenir la précision la plus fine, nous vous
                invitons à imprimer <a href="#calibration" id="calibration">ce pdf de calibration</a>, puis à reporter ci-dessous le ratio mesuré avant d'imprimer votre
                patron de fabrication.</p>
            <p>Laissez ce paramètre à 1.0 dans le cas où vous utilisez le format <code>dxf</code> pour une découpe laser.</p>
            
            <div class="container mb-3">
                <div class="row">
                    <div class="col-sm form-group">
                        <label class="form-check-label mb-2" for="scale">
                            Ratio d'impression
                        </label>
                        <input type="number" min="0" max="999999" class="form-control" id="scale" aria-describedby="scaleHelper" value="1.0">
                        <small id="scaleHelper" class="form-text text-muted">
                            Facteur multiplicateur appliqué au document pdf pour compenser la mise à l'échelle imposée par l'imprimante. Valeur par défaut&nbps;: 1.0 pour une impression en dxf,
                            et valeur légèrement plus grande que 1 pour une impression pdf sur imprimante standard.
                        </small>
                    </div>
                </div>
            </div>

            <h3>Personnalisation</h3>
            <p>Un espace de sécurité est réglable <strong>autour de la tablette</strong>, afin de faciliter son insertion et retrait. Cet espace sera 
                ajouté entre la tablette et les bords intérieurs de la boîte. Dans nos expérimentations, il a été réglé à 1 millimètre.</p>
            <div class="container mb-3">
                <div class="row">
                    <div class="col-sm form-group devBuf">
                        <label class="form-check-label mb-2" for="deviceBuffer">
                            Marge d'encadrement de la tablette
                        </label>
                        <input type="number" min="0" step="0.1" max="999999" class="form-control" id="deviceBuffer" aria-describedby="deviceBufferHelper" value="1.0">
                        <small id="deviceBufferHelper" class="form-text text-muted">
                            Espace (en millimètre) de sécurité autour de la tablette. Valeur par défaut&nbsp;: 1 millimètre.
                        </small>
                        <p class="alert alert-warning">Vous avez choisi un encadrement différent de la valeur par défaut. Prenez soin de prendre cette valeur en note, car elle vous sera nécessaire
                            lors de la fabrication des planches.</p>
                    </div>
                    <div class="col-sm form-group">
                        <div  class="mx-auto" style="width: 70%;">
                            <figure class="figure">
                            <img src="images/buffer.svg" class="figure-img img-fluid rounded" alt="Espace de sécurité autour de la tablette" />
                            <figcaption class="figure-caption">L'espace de sécurité permet à la boîte de laisser un peu de liberté autour de la tablette.</figcaption>
                            </figure>
                        </div>
                    </div>
                </div>
            </div>

            <h3>Découpe final</h3>
            <p>Dans le cas d'une découpe numérique (format <code>dxf</code>), vous pourriez souhaiter avoir des tracés regroupés en couches (<em>layers</em> en anglais) pour faciliter le pilotage de la 
              machine. Trois réglages sont possibles:
            </p>
            <div class="dropdown">
              <div class="btn-group btn-block my-1">
                <button type="button" class="btn btn-primary btn-block dropdown-toggle" id="layers" data-toggle="dropdown" 
                aria-haspopup="true" role="menu" aria-expanded="false">
                  choix des couches
                </button>
                <div class="dropdown-menu" aria-labelledby="layers" id="layers-alternatives">
                    <a id="one-layer" class="dropdown-item" href="#layers">une unique couche</a>
                    <a id="two-layers" class="dropdown-item" href="#layers">une couche de gravure, une couche de découpe</a>
                    <a id="three-layers" class="dropdown-item" href="#layers">une couche de gravure, une couche de découpe intérieure, une couche de découpe extérieure</a>
                </div>
              </div>


            <h2><span class="badge badge-pill badge-primary">3</span> Téléchargement</h2>
            <p>Une fois que vous avez réalisé les réglages proposés ci-dessus, vous pouvez maintenant télécharger le fichier correspondant à ces réglages, soit au format <code>pdf</code> pour un découpage manuel,
            soit au format <code>dxf</code> pour une découpe à la machine-outil (découpeuse laser par exemple).</p>

            <div class="container mb-3">
                <div class="row">
                    <div class="col-sm">
                        <button type="button" id="cuttingPDF" class="btn btn-primary btn-block my-1">télécharger au format pdf</button>
                    </div>
                    <div class="col-sm">
                        <button type="button" id="cuttingDXF" class="btn btn-primary btn-block my-1">télécharger au format dxf</button>
                    </div>
              </div>
            </div>
            <p>Le format <code>dxf</code> est un format d'échange standard pour piloter une machine-outil comme les découpeuses laser. Le fichier pdf peut être imprimé sur du papier classique, puis collé temporairement
            sur un support (type carton-bois) pour un découpage manuel (au cutter par exemple).</p>

        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    </body>
</html>
